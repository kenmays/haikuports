SUMMARY="Native query-based email client"
DESCRIPTION="A native fast, lightweight email client for Haiku that uses live queries \
to organize and explore your emails effortlessly.

EmailViews works with Haiku's built-in mail_daemon and mail kit â€” it reads emails already \
stored on disk as file attributes, so there is nothing to import or sync. Just point it \
at your mail and go."
HOMEPAGE="https://github.com/ilfelice/EmailViews"
COPYRIGHT="2026 Il Felice"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://github.com/ilfelice/EmailViews/archive/refs/tags/$portVersion.tar.gz"
CHECKSUM_SHA256="b7eafae0b46446527961eb12d7345cf3a42c5a19b92d6b2ffab5da73689ddd96"
SOURCE_DIR="EmailViews-$portVersion"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="?x86"

PROVIDES="
	emailviews$secondaryArchSuffix = $portVersion
	app:EmailViews = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	make $jobArgs OBJ_DIR=objects

if [ $targetArchitecture != riscv64 ]; then
	make bindcatalogs OBJ_DIR=objects
fi
}

INSTALL()
{
	install -d $appsDir
	install -t $appsDir objects/EmailViews

	addAppDeskbarSymlink $appsDir/EmailViews
}
